let pokemonRepository=function(){let e=[];function t(){return e}function n(t){"object"!=typeof t?console.log("New Pokemon submission must be an item"):e.push(t)}function o(e){return i(),fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types;let n=[];t.types.forEach(function(e){n.push(e.type.name)}),e.typesArray=n.join(", "),i()}).catch(function(e){console.error(e),i()})}function i(){document.querySelector(".loading-message").classList.toggle("loading")}function r(e){let t=document.querySelector("#pokemon-name"),n=document.querySelector("#pokemon-details");t.innerHTML="",n.innerHTML="",t.innerText=e.name;let o=document.createElement("img");o.src=e.imageUrl,o.alt="Picture of "+e.name;let i=document.createElement("p");i.innerText="Height: "+e.height;let r=document.createElement("p");r.innerText="Types: "+e.typesArray,n.append(o,i,r)}return{getAll:t,add:n,addListItem:function e(t){let n=document.querySelector(".list-unstyled"),i=document.createElement("li"),l=document.createElement("button");l.innerText=t.name,l.setAttribute("data-toggle","modal"),l.setAttribute("data-target","#pokemonModal"),l.classList.add("btn","btn-outline-danger","btn-block","poke-button"),i.classList.add("list-group-item"),i.appendChild(l),n.appendChild(i),l.addEventListener("click",function(){(function e(t){o(t).then(function(){r(t)})})(t)})},loadList:function e(){let t,o;return t=document.querySelector(".loading-message"),(o=document.createElement("p")).innerText="Loading...  ",t.appendChild(o),t.classList.toggle("loading"),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){n({name:e.name,detailsUrl:e.url})}),i()}).catch(function(e){console.error(e),i()})},loadDetails:o,fillModal:r}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});